@page "/player/{*Source}"
@using AnimeLover.Event;
@using Blazorise.Video
@implements IDisposable
<div style="max-height:calc(100vh-80px); width: 95%; margin:15px auto 10px auto;">
    <Video @ref="@video" Source="@Source" StreamingLibrary="StreamingLibrary.Dash" style="max-height:100%; max-width:100%;" />
</div>
<div style="text-align:right;padding-right:2.5%">
    <a href="/netdisk/">
        <Icon Name="Blazorise.Icons.FontAwesome.FontAwesomeIcons.ReplyAll"></Icon>
        返回
    </a>
</div>

@code {
    [Parameter]
    public string Source { get; set; }

    Video video;

    protected override void OnInitialized()
    {
        SysControl.Display(false);
    }

    public void Dispose()
    {
        SysControl.Display(true);
    }
}
